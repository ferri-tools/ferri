name: "Self-Contained Code Review"
steps:
  - name: "triage-code"
    input: "demo_script.py"
    command: "with --model gemini-pro --output triage_report.txt \"Summarize this Python script and identify 3 potential improvements.\""

  - name: "enhance-code"
    input: "demo_script.py,triage_report.txt"
    command: "with --ctx --model gemini-pro --output enhanced_script.py \"Based on the triage report, rewrite the original script to implement the suggested improvements. Your response must contain only the raw, runnable code, without any markdown formatting or explanatory text.\""

  - name: "generate-commit-message"
    input: "enhanced_script.py"
    command: "with --ctx --model gemini-pro --output commit_message.txt \"Write a conventional commit message for the changes in the enhanced script.\""
